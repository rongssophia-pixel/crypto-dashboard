# ================================
# Crypto Dashboard - Environment Variables
# ================================
# Copy this file to .env and update with your actual values
# cp .env.example .env

# ================================
# General Configuration
# ================================
ENVIRONMENT=development
LOG_LEVEL=INFO
DEBUG=true

# ================================
# Kafka Configuration (KRaft Mode)
# ================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_TOPIC_MARKET_DATA=market-data
KAFKA_TOPIC_SOCIAL_MEDIA=social-media
KAFKA_TOPIC_ALERTS=alerts
KAFKA_TOPIC_PROCESSED_DATA=processed-data
KAFKA_CONSUMER_GROUP_ID=crypto-dashboard
KAFKA_AUTO_OFFSET_RESET=earliest

# ================================
# PostgreSQL Configuration
# ================================
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=crypto_dashboard
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/crypto_dashboard

# ================================
# ClickHouse Configuration
# ================================
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_HTTP_PORT=8123
CLICKHOUSE_NATIVE_PORT=9000
CLICKHOUSE_DB=crypto_analytics
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=

# ================================
# AWS Configuration (LocalStack for local dev)
# ================================
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=test
AWS_SECRET_ACCESS_KEY=test
AWS_ENDPOINT_URL=http://localhost:4566
S3_BUCKET_NAME=crypto-market-data
S3_ARCHIVE_PREFIX=archive/
ATHENA_WORKGROUP=primary
ATHENA_OUTPUT_LOCATION=s3://crypto-market-data/athena-results/

# Set to true when running locally with LocalStack
USE_LOCALSTACK=true

# ================================
# Binance API Configuration
# ================================
BINANCE_API_KEY=your_binance_api_key_here
BINANCE_API_SECRET=your_binance_api_secret_here
BINANCE_WS_URL=wss://stream.binance.com:9443/ws
BINANCE_REST_URL=https://api.binance.com/api/v3
# Comma-separated list of trading pairs to track
BINANCE_SYMBOLS=BTCUSDT,ETHUSDT,BNBUSDT,ADAUSDT,DOGEUSDT

# ================================
# Twitter API Configuration
# ================================
TWITTER_API_KEY=your_twitter_api_key_here
TWITTER_API_SECRET=your_twitter_api_secret_here
TWITTER_ACCESS_TOKEN=your_twitter_access_token_here
TWITTER_ACCESS_TOKEN_SECRET=your_twitter_access_token_secret_here
TWITTER_BEARER_TOKEN=your_twitter_bearer_token_here
# Comma-separated list of keywords/hashtags to track
TWITTER_KEYWORDS=bitcoin,ethereum,crypto,blockchain

# ================================
# JWT Authentication
# ================================
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ================================
# Email Service Configuration
# ================================
# For development, you can use services like Mailgun, SendGrid, or Mailtrap
EMAIL_PROVIDER=sendgrid
EMAIL_API_KEY=your_email_api_key_here
EMAIL_FROM_ADDRESS=noreply@crypto-dashboard.com
EMAIL_FROM_NAME=Crypto Dashboard
# Mailtrap for testing (optional)
MAILTRAP_HOST=smtp.mailtrap.io
MAILTRAP_PORT=2525
MAILTRAP_USER=your_mailtrap_user
MAILTRAP_PASSWORD=your_mailtrap_password

# ================================
# API Gateway Configuration
# ================================
API_GATEWAY_HOST=0.0.0.0
API_GATEWAY_PORT=8000
API_GATEWAY_WORKERS=4
API_GATEWAY_CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# ================================
# Microservices Ports
# ================================
# REST API Ports
INGESTION_SERVICE_PORT=8001
ANALYTICS_SERVICE_PORT=8002
STORAGE_SERVICE_PORT=8003
NOTIFICATION_SERVICE_PORT=8004
STREAM_PROCESSING_SERVICE_PORT=8005

# gRPC Ports
INGESTION_SERVICE_GRPC_PORT=50051
ANALYTICS_SERVICE_GRPC_PORT=50052
STORAGE_SERVICE_GRPC_PORT=50053
NOTIFICATION_SERVICE_GRPC_PORT=50054
STREAM_PROCESSING_SERVICE_GRPC_PORT=50055

# ================================
# gRPC Service Addresses
# ================================
INGESTION_SERVICE_GRPC_ADDR=localhost:50051
ANALYTICS_SERVICE_GRPC_ADDR=localhost:50052
STORAGE_SERVICE_GRPC_ADDR=localhost:50053
NOTIFICATION_SERVICE_GRPC_ADDR=localhost:50054
STREAM_PROCESSING_SERVICE_GRPC_ADDR=localhost:50055

# ================================
# Apache Flink Configuration
# ================================
FLINK_JOBMANAGER_HOST=localhost
FLINK_JOBMANAGER_PORT=8081
FLINK_JOBMANAGER_RPC_PORT=6123
FLINK_TASKMANAGER_SLOTS=4
FLINK_PARALLELISM=2
FLINK_CHECKPOINTS_DIR=/tmp/flink-checkpoints
FLINK_SAVEPOINTS_DIR=/tmp/flink-savepoints

# ================================
# Monitoring Configuration
# ================================
# Prometheus
PROMETHEUS_PORT=9090
PROMETHEUS_SCRAPE_INTERVAL=15s

# Grafana
GRAFANA_PORT=3000
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ================================
# Application-Specific Settings
# ================================
# Data retention
HOT_DATA_RETENTION_DAYS=7
COLD_DATA_RETENTION_DAYS=365

# Rate limits (requests per minute)
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_BURST=20

# Batch sizes for processing
KAFKA_BATCH_SIZE=1000
CLICKHOUSE_BATCH_SIZE=10000
S3_UPLOAD_BATCH_SIZE=50000

# Alert thresholds
ALERT_PRICE_CHANGE_THRESHOLD_PERCENT=5.0
ALERT_VOLUME_SPIKE_THRESHOLD_MULTIPLIER=3.0

# ================================
# Feature Flags
# ================================
ENABLE_SOCIAL_MEDIA_INGESTION=true
ENABLE_REAL_TIME_ALERTS=true
ENABLE_ARCHIVAL=true
ENABLE_METRICS=true

# ================================
# Development/Testing
# ================================
# Set to true to enable test mode (uses mock data, etc.)
TEST_MODE=false
# Set to true to enable more verbose logging
VERBOSE_LOGGING=false
